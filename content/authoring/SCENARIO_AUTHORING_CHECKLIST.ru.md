# Контрольный список для авторов сценариев

Используйте этот список перед добавлением или изменением сценариев. Это самый быстрый способ избежать регрессий и пропусков в переводах.

## 1) Обязательная структура
- [ ] `startSceneId` существует в `scenes`.
- [ ] Каждый `scene.id` уникален.
- [ ] Каждый `scene.nextSceneId` указывает на существующую сцену.
- [ ] Каждый `choice.nextSceneId` указывает на существующую сцену.

## 2) Сети (сцены network_selection)
- [ ] У каждой сети есть корректный путь выбора.
  - Предпочтительно: задайте `network.actionId` и добавьте `choice` с тем же `actionId`.
  - Для обратной совместимости: если `network.actionId` отсутствует, движок использует `connect_<network.id>`.
- [ ] Если сеть — это мобильные данные, установите `network.isMobileData: true`.
- [ ] В одной сцене нет дублирующихся ID сетей или `choice.actionId`.

## 3) Действия и выборы
- [ ] Каждый `choice.actionId` уникален в пределах сцены.
- [ ] ID действий уникальны в пределах сцены.
- [ ] Выборы ссылаются либо на:
  - действие из `scene.actions`, либо
  - действие сети (явный `network.actionId` или `connect_<network.id>`).

## 4) Задачи и чувствительность
- [ ] Сцены `task_prompt` содержат `task` с `sensitivityLevel` (`low`, `medium`, `high` или `critical`).
- [ ] Для **critical**‑задач простое `proceed` считается корректным только при защите VPN или мобильными данными.
  - Если допускаете `proceed` для критической задачи без защиты, добавьте последствия с повышенным риском.

## 5) Последствия и баллы
- [ ] У каждого последствия есть ясный результат по безопасности/риску и реалистичное объяснение.
- [ ] `safetyPointsChange` и `riskPointsChange` соответствуют уровню риска.
- [ ] Избегайте абсолютных утверждений; используйте формулировки про снижение риска (например, «значительно сложнее», а не «невозможно»).

## 6) Требования к переводам (EN + LV + RU)
Любой пользовательский текст должен быть полностью переведен.
- [ ] Для нового текста используйте поля `...Key` и добавьте ключи в:
  - `client/src/locales/en.json`
  - `client/src/locales/lv.json`
  - `client/src/locales/ru.json`
- [ ] Если добавили новый `titleKey`, `descriptionKey`, `labelKey` и т.п., убедитесь, что ключ есть во всех языках.

## 7) Команды проверки
Запустите перед коммитом:
- [ ] `npm run validate:scenarios`
- [ ] `node scripts/i18n-validate.js`
- [ ] `npm run authoring:check` (подсказки помощника)

## 8) Частые ошибки
- [ ] Сеть есть, но нет соответствующего выбора.
- [ ] Опечатки в `nextSceneId` или `actionId`.
- [ ] Дублирующиеся ID действий в одной сцене.
- [ ] Новый текст добавлен только на английском (нет LV/RU).
- [ ] Язык риска с обещаниями вместо формулировок про снижение риска.
