{
  "id": "coffee_shop_beginner",
  "title": "Morning at The Daily Grind",
  "description": "You've stopped at your favorite coffee shop before an important meeting. You need to check a few things online, but which network should you trust?",
  "location": "The Daily Grind Coffee Shop",
  "difficulty": "beginner",
  "estimatedTime": "5 minutes",
  "startSceneId": "arrival_1",
  "scenes": [
    {
      "id": "arrival_1",
      "type": "arrival",
      "title": "Welcome to The Daily Grind",
      "description": "You settle into a comfortable corner seat with your latte. Your laptop is open and you see several Wi-Fi networks available. You have 30 minutes before your meeting.",
      "location": "The Daily Grind Coffee Shop",
      "nextSceneId": "briefing_coffee_shop"
    },
    {
      "id": "briefing_coffee_shop",
      "type": "briefing",
      "title": "Briefing",
      "titleKey": "briefing.title",
      "description": "Briefing",
      "descriptionKey": "briefing.description",
      "location": "The Daily Grind Coffee Shop",
      "sections": [
        {
          "titleKey": "briefing.sections.bestChoice.title",
          "bodyKey": "briefing.coffee_shop_beginner.bestChoice.body"
        },
        {
          "titleKey": "briefing.sections.protect.title",
          "bodyKey": "briefing.coffee_shop_beginner.protect.body"
        },
        {
          "titleKey": "briefing.sections.tradeoff.title",
          "bodyKey": "briefing.coffee_shop_beginner.tradeoff.body"
        }
      ],
      "nextSceneId": "network_select_1"
    },
    {
      "id": "network_select_1",
      "type": "network_selection",
      "title": "Choose a Network",
      "description": "Several networks appear on your screen. The coffee shop has a sign on the counter, but you can't quite read it from here.",
      "location": "The Daily Grind Coffee Shop",
      "networks": [
        {
          "id": "net_official",
          "actionId": "connect_net_official",
          "ssid": "DailyGrind_Guest",
          "signalStrength": 5,
          "isSecured": true,
          "securityType": "wpa2",
          "isLegitimate": true,
          "isTrap": false,
          "riskLevel": "safe",
          "description": "Official coffee shop network"
        },
        {
          "id": "net_fake",
          "actionId": "connect_net_fake",
          "ssid": "FREE_Daily_Grind_WiFi",
          "signalStrength": 4,
          "isSecured": false,
          "securityType": "open",
          "isLegitimate": false,
          "isTrap": true,
          "riskLevel": "dangerous",
          "description": "Suspicious network with similar name"
        },
        {
          "id": "net_open",
          "actionId": "connect_net_open",
          "ssid": "DailyGrind_Open",
          "signalStrength": 4,
          "isSecured": false,
          "securityType": "open",
          "isLegitimate": true,
          "isTrap": false,
          "riskLevel": "suspicious",
          "description": "Coffee shop guest network - no password required"
        },
        {
          "id": "net_neighbor",
          "actionId": "connect_net_neighbor",
          "ssid": "Bookstore_Next_Door",
          "signalStrength": 2,
          "isSecured": true,
          "securityType": "wpa2",
          "isLegitimate": true,
          "isTrap": false,
          "riskLevel": "suspicious",
          "description": "Neighboring business network"
        }
      ],
      "actions": [
        {
          "id": "verify",
          "type": "verify_staff",
          "label": "Ask staff for the correct network",
          "description": "Walk to the counter and confirm the official Wi-Fi name"
        }
      ],
      "choices": [
        { "actionId": "connect_net_official", "nextSceneId": "autojoin_prompt" },
        { "actionId": "connect_net_fake", "nextSceneId": "consequence_trap" },
        { "actionId": "connect_net_open", "nextSceneId": "consequence_open" },
        { "actionId": "connect_net_neighbor", "nextSceneId": "consequence_neighbor" },
        { "actionId": "verify", "nextSceneId": "verified_network" }
      ]
    },
    {
      "id": "verified_network",
      "type": "network_selection",
      "title": "Staff Confirmation",
      "description": "The barista confirms: 'Our official network is DailyGrind_Guest. The password is on your receipt!' You still see several networks, but now you know which one is official. They also mention they've seen some fake networks pop up recently.",
      "location": "The Daily Grind Coffee Shop",
      "networks": [
        {
          "id": "net_official",
          "actionId": "connect_net_official",
          "ssid": "DailyGrind_Guest",
          "signalStrength": 5,
          "isSecured": true,
          "securityType": "wpa2",
          "isLegitimate": true,
          "isTrap": false,
          "verifiedByStaff": true,
          "riskLevel": "safe",
          "description": "Official coffee shop network - VERIFIED"
        },
        {
          "id": "net_fake",
          "actionId": "connect_net_fake",
          "ssid": "FREE_Daily_Grind_WiFi",
          "signalStrength": 4,
          "isSecured": false,
          "securityType": "open",
          "isLegitimate": false,
          "isTrap": true,
          "riskLevel": "dangerous",
          "description": "SUSPICIOUS - Not the official network!"
        },
        {
          "id": "net_open",
          "actionId": "connect_net_open",
          "ssid": "DailyGrind_Open",
          "signalStrength": 4,
          "isSecured": false,
          "securityType": "open",
          "isLegitimate": true,
          "isTrap": false,
          "riskLevel": "suspicious",
          "description": "Coffee shop guest network - no password required"
        },
        {
          "id": "net_neighbor",
          "actionId": "connect_net_neighbor",
          "ssid": "Bookstore_Next_Door",
          "signalStrength": 2,
          "isSecured": true,
          "securityType": "wpa2",
          "isLegitimate": true,
          "isTrap": false,
          "riskLevel": "suspicious",
          "description": "Neighboring business network"
        }
      ],
      "choices": [
        { "actionId": "connect_net_official", "nextSceneId": "autojoin_prompt_verified" },
        { "actionId": "connect_net_fake", "nextSceneId": "consequence_trap" },
        { "actionId": "connect_net_open", "nextSceneId": "consequence_open" },
        { "actionId": "connect_net_neighbor", "nextSceneId": "consequence_neighbor" }
      ]
    },
    {
      "id": "autojoin_prompt",
      "type": "task_prompt",
      "title": "Network Settings",
      "titleKey": "scenarios.coffee_shop_beginner.scenes.autojoin_prompt.title",
      "description": "Before you start browsing, consider a quick safety setting.",
      "descriptionKey": "scenarios.coffee_shop_beginner.scenes.autojoin_prompt.description",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_autojoin",
        "type": "browse",
        "title": "Auto-Join Settings",
        "titleKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.title",
        "description": "Public networks can auto-join later without you noticing.",
        "descriptionKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.description",
        "sensitivityLevel": "low",
        "riskHint": "Auto-join can reconnect you to a public network in the future.",
        "riskHintKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.riskHint"
      },
      "actions": [
        {
          "id": "autojoin_disable",
          "type": "proceed",
          "label": "Disable auto-join and forget after use",
          "labelKey": "scenarios.coffee_shop_beginner.actions.autojoin_disable.label",
          "description": "Prevents automatic reconnection later",
          "descriptionKey": "scenarios.coffee_shop_beginner.actions.autojoin_disable.description"
        },
        {
          "id": "autojoin_leave",
          "type": "decline",
          "label": "Leave auto-join enabled",
          "labelKey": "scenarios.coffee_shop_beginner.actions.autojoin_leave.label",
          "description": "Convenient now, but may reconnect later",
          "descriptionKey": "scenarios.coffee_shop_beginner.actions.autojoin_leave.description"
        }
      ],
      "choices": [
        { "actionId": "autojoin_disable", "nextSceneId": "consequence_autojoin_safe" },
        { "actionId": "autojoin_leave", "nextSceneId": "consequence_autojoin_risky" }
      ]
    },
    {
      "id": "autojoin_prompt_verified",
      "type": "task_prompt",
      "title": "Network Settings",
      "titleKey": "scenarios.coffee_shop_beginner.scenes.autojoin_prompt.title",
      "description": "Before you start browsing, consider a quick safety setting.",
      "descriptionKey": "scenarios.coffee_shop_beginner.scenes.autojoin_prompt.description",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_autojoin",
        "type": "browse",
        "title": "Auto-Join Settings",
        "titleKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.title",
        "description": "Public networks can auto-join later without you noticing.",
        "descriptionKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.description",
        "sensitivityLevel": "low",
        "riskHint": "Auto-join can reconnect you to a public network in the future.",
        "riskHintKey": "scenarios.coffee_shop_beginner.tasks.task_autojoin.riskHint"
      },
      "actions": [
        {
          "id": "autojoin_disable",
          "type": "proceed",
          "label": "Disable auto-join and forget after use",
          "labelKey": "scenarios.coffee_shop_beginner.actions.autojoin_disable.label",
          "description": "Prevents automatic reconnection later",
          "descriptionKey": "scenarios.coffee_shop_beginner.actions.autojoin_disable.description"
        },
        {
          "id": "autojoin_leave",
          "type": "decline",
          "label": "Leave auto-join enabled",
          "labelKey": "scenarios.coffee_shop_beginner.actions.autojoin_leave.label",
          "description": "Convenient now, but may reconnect later",
          "descriptionKey": "scenarios.coffee_shop_beginner.actions.autojoin_leave.description"
        }
      ],
      "choices": [
        { "actionId": "autojoin_disable", "nextSceneId": "consequence_autojoin_safe_verified" },
        { "actionId": "autojoin_leave", "nextSceneId": "consequence_autojoin_risky_verified" }
      ]
    },
    {
      "id": "consequence_autojoin_safe",
      "type": "consequence",
      "title": "Auto-Join Disabled",
      "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.title",
      "description": "You updated your network settings...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_autojoin_safe",
        "type": "safe_browsing",
        "severity": "success",
        "title": "Auto-Join Disabled",
        "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.title",
        "whatHappened": "You turned off auto-join and set the network to forget after use.",
        "whatHappenedKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.whatHappened",
        "whyRisky": "This reduces the chance your device will reconnect automatically to public Wi-Fi later without you noticing.",
        "whyRiskyKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.whyRisky",
        "saferAlternative": "Keep auto-join off for public networks and forget them after you leave.",
        "saferAlternativeKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.saferAlternative",
        "technicalExplanation": "Auto-join can connect to remembered SSIDs, including look-alike networks. Forgetting removes stored network details.",
        "technicalExplanationKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.technicalExplanation",
        "safetyPointsChange": 5,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_email"
    },
    {
      "id": "consequence_autojoin_risky",
      "type": "consequence",
      "title": "Auto-Join Left On",
      "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.title",
      "description": "You kept the default setting...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_autojoin_risky",
        "type": "privacy_leaked",
        "severity": "warning",
        "title": "Auto-Join Left On",
        "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.title",
        "whatHappened": "You left auto-join enabled for this network.",
        "whatHappenedKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.whatHappened",
        "whyRisky": "Your device may reconnect automatically later, possibly to a look-alike network with the same name.",
        "whyRiskyKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.whyRisky",
        "saferAlternative": "Disable auto-join and forget public networks when you're done.",
        "saferAlternativeKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.saferAlternative",
        "technicalExplanation": "Devices often reconnect to remembered SSIDs without prompting, which can be exploited by attackers who copy network names.",
        "technicalExplanationKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.technicalExplanation",
        "safetyPointsChange": 0,
        "riskPointsChange": 5
      },
      "nextSceneId": "task_email"
    },
    {
      "id": "consequence_autojoin_safe_verified",
      "type": "consequence",
      "title": "Auto-Join Disabled",
      "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.title",
      "description": "You updated your network settings...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_autojoin_safe_verified",
        "type": "safe_browsing",
        "severity": "success",
        "title": "Auto-Join Disabled",
        "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.title",
        "whatHappened": "You turned off auto-join and set the network to forget after use.",
        "whatHappenedKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.whatHappened",
        "whyRisky": "This reduces the chance your device will reconnect automatically to public Wi-Fi later without you noticing.",
        "whyRiskyKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.whyRisky",
        "saferAlternative": "Keep auto-join off for public networks and forget them after you leave.",
        "saferAlternativeKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.saferAlternative",
        "technicalExplanation": "Auto-join can connect to remembered SSIDs, including look-alike networks. Forgetting removes stored network details.",
        "technicalExplanationKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_safe.technicalExplanation",
        "safetyPointsChange": 5,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_email_verified"
    },
    {
      "id": "consequence_autojoin_risky_verified",
      "type": "consequence",
      "title": "Auto-Join Left On",
      "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.title",
      "description": "You kept the default setting...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_autojoin_risky_verified",
        "type": "privacy_leaked",
        "severity": "warning",
        "title": "Auto-Join Left On",
        "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.title",
        "whatHappened": "You left auto-join enabled for this network.",
        "whatHappenedKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.whatHappened",
        "whyRisky": "Your device may reconnect automatically later, possibly to a look-alike network with the same name.",
        "whyRiskyKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.whyRisky",
        "saferAlternative": "Disable auto-join and forget public networks when you're done.",
        "saferAlternativeKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.saferAlternative",
        "technicalExplanation": "Devices often reconnect to remembered SSIDs without prompting, which can be exploited by attackers who copy network names.",
        "technicalExplanationKey": "scenarios.coffee_shop_beginner.consequences.cons_autojoin_risky.technicalExplanation",
        "safetyPointsChange": 0,
        "riskPointsChange": 5
      },
      "nextSceneId": "task_email_verified"
    },
    {
      "id": "task_email_verified",
      "type": "task_prompt",
      "title": "Check Your Email",
      "description": "You're connected to the verified official network. Now you need to check your email for the meeting agenda.",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_check_email",
        "type": "email",
        "title": "Check Work Email",
        "description": "Open your email to review the meeting agenda that was sent this morning.",
        "sensitivityLevel": "medium",
        "riskHint": "Email accounts often contain sensitive information and password reset links."
      },
      "actions": [
        { "id": "proceed_email", "type": "proceed", "label": "Check email now" },
        { "id": "use_vpn_email", "type": "use_vpn", "label": "Enable VPN first, then check email" },
        {
          "id": "postpone_email",
          "type": "postpone",
          "label": "Wait until you're on a more secure network"
        }
      ],
      "choices": [
        { "actionId": "proceed_email", "nextSceneId": "consequence_email_safe" },
        { "actionId": "use_vpn_email", "nextSceneId": "consequence_email_vpn" },
        { "actionId": "postpone_email", "nextSceneId": "consequence_email_postponed" }
      ]
    },
    {
      "id": "task_email",
      "type": "task_prompt",
      "title": "Check Your Email",
      "description": "You're connected. Now you need to check your email for the meeting agenda.",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_check_email",
        "type": "email",
        "title": "Check Work Email",
        "description": "Open your email to review the meeting agenda that was sent this morning.",
        "sensitivityLevel": "medium",
        "riskHint": "Email accounts often contain sensitive information and password reset links."
      },
      "actions": [
        { "id": "proceed_email", "type": "proceed", "label": "Check email now" },
        { "id": "use_vpn_email", "type": "use_vpn", "label": "Enable VPN first, then check email" },
        {
          "id": "postpone_email",
          "type": "postpone",
          "label": "Wait until you're on a more secure network"
        }
      ],
      "choices": [
        { "actionId": "proceed_email", "nextSceneId": "consequence_email_unverified" },
        { "actionId": "use_vpn_email", "nextSceneId": "consequence_email_vpn_unverified" },
        { "actionId": "postpone_email", "nextSceneId": "consequence_email_postponed_unverified" }
      ]
    },
    {
      "id": "consequence_email_unverified",
      "type": "consequence",
      "title": "Email Checked - But Did You Verify?",
      "description": "You checked your email on the network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_unverified",
        "type": "missed_verification",
        "severity": "warning",
        "title": "Missed a Safety Step",
        "titleKey": "scenarios.coffee_shop_beginner.consequences.cons_email_unverified.title",
        "whatHappened": "You checked your email successfully. The network you chose appears legitimate, and your email provider's HTTPS encryption protected your login. However, you connected without verifying with staff that this was the official network.",
        "whatHappenedKey": "scenarios.coffee_shop_beginner.consequences.cons_email_unverified.whatHappened",
        "whyRisky": "Here's the problem: You got lucky, but you didn't know you were safe. 'DailyGrind_Guest' looked right, but attackers specifically create convincing names. Without verification, you had no way to distinguish the real network from a well-crafted fake. The 30 seconds it takes to ask staff could prevent hours of dealing with compromised accounts. Building the habit of verification is more important than any single safe connection.",
        "whyRiskyKey": "scenarios.coffee_shop_beginner.consequences.cons_email_unverified.whyRisky",
        "saferAlternative": "Before connecting to any public network, ask staff for the exact network name. It only takes a moment, and it turns guessing into a more informed choice. This habit greatly reduces the risk of evil-twin networks, but you should still stay alert for look-alike names and unexpected login pages.",
        "saferAlternativeKey": "scenarios.coffee_shop_beginner.consequences.cons_email_unverified.saferAlternative",
        "technicalExplanation": "Even correctly named networks can be spoofed. Attackers can copy the SSID and use stronger signals to lure devices. Staff verification is the best practical first step, but also check for small spelling differences and be cautious of unexpected captive portals.",
        "technicalExplanationKey": "scenarios.coffee_shop_beginner.consequences.cons_email_unverified.technicalExplanation",
        "safetyPointsChange": 5,
        "riskPointsChange": 5
      },
      "nextSceneId": "task_banking"
    },
    {
      "id": "consequence_email_vpn_unverified",
      "type": "consequence",
      "title": "VPN Protected - Good Instinct",
      "description": "You enabled your VPN before checking email...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_vpn_unverified",
        "type": "vpn_protected",
        "severity": "success",
        "title": "Smart Protection Layer",
        "whatHappened": "You enabled your VPN before checking email. This was a smart move - your VPN encrypts all traffic, making it unreadable to anyone on the local network, even if you're on a compromised network.",
        "whyRisky": "This is good security practice! The VPN protects you even if the network isn't what it claims to be. However, there's one small gap: you didn't verify the network with staff. While your VPN protects your data, verifying the network is still a good habit. Why? Because VPNs can disconnect unexpectedly, and some apps might leak data before the VPN connects.",
        "saferAlternative": "Combining verification AND VPN gives you defense in depth - multiple layers of protection. Verify first so you know the network is legitimate, then add VPN for encrypted privacy. That way, if either protection fails, the other still works.",
        "technicalExplanation": "VPNs create an encrypted tunnel that protects your data from local network observers. However, the initial connection to the VPN server happens over the local network. A sophisticated attacker could potentially interfere with this handshake, though this is rare. Verification + VPN eliminates this edge case.",
        "safetyPointsChange": 15,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_banking_vpn"
    },
    {
      "id": "consequence_email_postponed_unverified",
      "type": "consequence",
      "title": "Cautious Approach",
      "description": "You decided to wait on checking email...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_postponed_unverified",
        "type": "action_postponed",
        "severity": "success",
        "title": "Playing It Safe",
        "whatHappened": "You decided not to check email on this network. Given that you didn't verify the network with staff, this caution is well-placed.",
        "whyRisky": "Your instinct to be careful is valuable! You recognized uncertainty and chose safety over convenience. For routine email, this level of caution might not always be necessary on verified networks - but since you connected without verification, postponing was a reasonable choice.",
        "saferAlternative": "For future reference: if you had verified the network with staff first, checking email would be reasonably safe (especially with a VPN). The verification step is what transforms an unknown risk into a known quantity.",
        "technicalExplanation": "Postponing eliminates all network-based risk. You can't have data intercepted on a network you don't use. The trade-off is convenience, but when you're uncertain about network authenticity, this is the safest approach.",
        "safetyPointsChange": 10,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_banking"
    },
    {
      "id": "task_banking",
      "type": "task_prompt",
      "title": "Quick Banking Task",
      "description": "While checking email, you remember you need to transfer money to cover a bill due today.",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_banking",
        "type": "banking",
        "title": "Transfer Funds",
        "description": "Log into your bank to transfer $200 to cover an upcoming bill payment.",
        "sensitivityLevel": "critical",
        "riskHint": "Banking involves your most sensitive financial credentials."
      },
      "actions": [
        { "id": "proceed_banking", "type": "proceed", "label": "Log into bank now" },
        { "id": "use_vpn_banking", "type": "use_vpn", "label": "Enable VPN first" },
        {
          "id": "postpone_banking",
          "type": "postpone",
          "label": "Handle this later on a secure network"
        }
      ],
      "choices": [
        { "actionId": "proceed_banking", "nextSceneId": "consequence_banking_risky" },
        { "actionId": "use_vpn_banking", "nextSceneId": "consequence_banking_vpn" },
        { "actionId": "postpone_banking", "nextSceneId": "consequence_banking_smart" }
      ]
    },
    {
      "id": "task_banking_vpn",
      "type": "task_prompt",
      "title": "Quick Banking Task",
      "description": "Your VPN is active. You remember you need to transfer money to cover a bill due today.",
      "location": "The Daily Grind Coffee Shop",
      "task": {
        "id": "task_banking",
        "type": "banking",
        "title": "Transfer Funds",
        "description": "Log into your bank to transfer $200 to cover an upcoming bill payment.",
        "sensitivityLevel": "critical",
        "riskHint": "Banking involves your most sensitive financial credentials."
      },
      "actions": [
        { "id": "proceed_banking_vpn", "type": "proceed", "label": "Log into bank (VPN active)" },
        {
          "id": "postpone_banking",
          "type": "postpone",
          "label": "Still prefer to wait for home network"
        }
      ],
      "choices": [
        { "actionId": "proceed_banking_vpn", "nextSceneId": "consequence_banking_vpn" },
        { "actionId": "postpone_banking", "nextSceneId": "consequence_banking_smart" }
      ]
    },
    {
      "id": "consequence_trap",
      "type": "consequence",
      "title": "Network Trap Detected",
      "description": "You connected to what appeared to be the coffee shop's network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_trap",
        "type": "credential_harvested",
        "severity": "danger",
        "title": "Fake Network Trap",
        "whatHappened": "You connected to 'FREE_Daily_Grind_WiFi' - a fake network set up by an attacker sitting nearby with a laptop. A convincing login page appeared asking for your email to 'access the internet.' Any credentials you entered were captured.",
        "whyRisky": "Here's why this is so dangerous: The attacker is literally sitting between you and the internet. Every website you visit, every password you type, every message you send passes through their computer first. The word 'FREE' in the network name was bait - legitimate businesses don't usually advertise 'free' in their network names because customers already expect it. This 'evil twin' attack is common in coffee shops because it takes just $50 in equipment and 5 minutes to set up.",
        "saferAlternative": "Always verify the exact network name with staff before connecting. Real business networks typically use their business name consistently, and suspicious additions like 'FREE' or slight misspellings are red flags.",
        "technicalExplanation": "Evil twin attacks work by creating a network with a stronger signal than the legitimate one. Your device sees the fake network as a 'better' option. The attacker runs their own fake login page to harvest credentials, then forwards your traffic to the real internet so you don't notice anything wrong.",
        "safetyPointsChange": 0,
        "riskPointsChange": 30,
        "cascadingEffects": [
          {
            "order": 1,
            "effect": "Your email credentials were captured by the fake login page",
            "icon": "credential"
          },
          {
            "order": 2,
            "effect": "Attacker uses your email to reset passwords on other accounts",
            "icon": "account"
          },
          {
            "order": 3,
            "effect": "Your linked bank and shopping accounts are now accessible",
            "icon": "money"
          },
          {
            "order": 4,
            "effect": "Personal data from these accounts enables identity theft",
            "icon": "identity"
          }
        ]
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "consequence_open",
      "type": "consequence",
      "title": "Connected to Open Network",
      "description": "You connected to the coffee shop's open guest network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_open",
        "type": "privacy_leaked",
        "severity": "warning",
        "title": "Unencrypted Connection",
        "whatHappened": "You connected to 'DailyGrind_Open' - the coffee shop's legitimate open network. This is a real network, not a trap. However, because it has no password, your connection to the router isn't encrypted.",
        "whyRisky": "Think of an open network like talking loudly in a crowded room - anyone nearby can listen in. Without the password-based encryption that WPA2 provides, the data traveling between your laptop and the router is visible to anyone with free software like Wireshark. While most major websites now use HTTPS encryption, an eavesdropper can still see which websites you visit (via DNS queries), how long you spend there, and how much data you transfer. This metadata alone reveals patterns about your behavior, and older or misconfigured sites may still leak actual content.",
        "saferAlternative": "The secured 'DailyGrind_Guest' network with WPA2 is the better choice. That password you enter isn't just for access control - it creates an encrypted tunnel between your device and the router, scrambling your data so nearby snoopers can't read it.",
        "technicalExplanation": "WPA2 uses the password to generate unique encryption keys for each device. Open networks skip this entirely, transmitting all data as readable radio waves. A VPN adds a second layer by encrypting all traffic from your device to a secure server, hiding even your browsing destinations.",
        "safetyPointsChange": 5,
        "riskPointsChange": 10
      },
      "nextSceneId": "task_email"
    },
    {
      "id": "consequence_neighbor",
      "type": "consequence",
      "title": "Wrong Network",
      "description": "You connected to a neighboring business's network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_neighbor",
        "type": "privacy_leaked",
        "severity": "warning",
        "title": "Unintended Network",
        "whatHappened": "You connected to the bookstore next door's network. While not malicious, you're now routing all your internet traffic through equipment you didn't intend to use.",
        "whyRisky": "Every network has an administrator who can see connection logs and, in some cases, inspect traffic. By connecting to the bookstore's network, you've unknowingly agreed to their network policies (which you haven't read) and given them visibility into your online activity. Even if the bookstore owners are trustworthy, their network security practices might not be - an unsecured router could be compromised by attackers, or an employee could be logging traffic.",
        "saferAlternative": "Take a moment to verify you're connecting to the network of the business you're actually in. If you're at the coffee shop, use the coffee shop's network. This isn't about trust - it's about knowing whose policies and security practices govern your connection.",
        "technicalExplanation": "Network administrators can log MAC addresses, connection times, websites visited (via DNS queries), and data transferred. On networks without proper security, they could potentially inspect unencrypted traffic or be vulnerable to the same attacks as any other network.",
        "safetyPointsChange": 0,
        "riskPointsChange": 10
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "consequence_email_safe",
      "type": "consequence",
      "title": "Email Checked",
      "description": "You checked your email on the verified network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_safe",
        "type": "safe_browsing",
        "severity": "success",
        "title": "Reasonably Safe",
        "whatHappened": "You checked your email on the verified official network. Since your email provider uses HTTPS, your login credentials and email content were encrypted between your browser and the email server.",
        "whyRisky": "This was a reasonable choice. The WPA2 encryption protects your data from other coffee shop customers, and HTTPS protects it from the coffee shop's network itself. The remaining small risk: the network operator (coffee shop) can see you're connecting to gmail.com or outlook.com - they just can't see what you're reading or sending. This metadata alone usually isn't sensitive for personal email.",
        "saferAlternative": "For extra security, especially with work email containing sensitive business information, a VPN hides even the metadata about which services you're using. This matters more for business contexts where competitors might want to know who you're communicating with.",
        "technicalExplanation": "HTTPS encrypts the content of your email session, but DNS queries (which reveal the websites you visit) travel unencrypted unless you use DNS-over-HTTPS or a VPN. Network operators can see connection patterns even when they can't read the content.",
        "safetyPointsChange": 10,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_banking"
    },
    {
      "id": "consequence_email_vpn",
      "type": "consequence",
      "title": "VPN Protected",
      "description": "You enabled your VPN before checking email...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_vpn",
        "type": "vpn_protected",
        "severity": "success",
        "title": "Excellent Security Practice",
        "whatHappened": "You enabled your VPN before accessing your email. All your traffic is now encrypted and routed through a secure tunnel, invisible to anyone on the coffee shop network - including the coffee shop itself.",
        "whyRisky": "This is excellent practice, especially for work email. The VPN means nobody on the local network can see what services you're using or who you're communicating with. The only entity that can see your traffic is your VPN provider, so choose one with a strong privacy policy and no-logs commitment.",
        "saferAlternative": "You made the optimal choice for a public network. Just ensure your VPN is from a reputable provider - free VPNs often monetize by selling your browsing data, which defeats the purpose entirely.",
        "technicalExplanation": "A VPN creates an encrypted tunnel from your device to the VPN server. The coffee shop's network only sees encrypted gibberish going to one IP address. The VPN server then forwards your requests to the internet, so websites see the VPN's IP instead of yours.",
        "safetyPointsChange": 20,
        "riskPointsChange": 0
      },
      "nextSceneId": "task_banking_vpn"
    },
    {
      "id": "consequence_email_postponed",
      "type": "consequence",
      "title": "Task Postponed",
      "description": "You decided to wait on checking email...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_email_postponed",
        "type": "action_postponed",
        "severity": "success",
        "title": "Cautious Approach",
        "whatHappened": "You decided to postpone checking your email until you're on a more secure network. This eliminates any network-based risk entirely.",
        "whyRisky": "For just checking email on a verified, secured network, this might be more caution than necessary. Modern email services use strong HTTPS encryption. However, if your email contains truly sensitive information, or if you're unsure about the network, waiting is always the safest option.",
        "saferAlternative": "For routine email checking on a verified WPA2 network with HTTPS, you could safely proceed - especially with a VPN. But your instinct to be careful is valuable. The trade-off is convenience versus peace of mind.",
        "technicalExplanation": "Postponing eliminates all network-based risks. This is the 'zero trust' approach - assume any network outside your control could be compromised. For high-stakes situations, this mindset serves you well.",
        "safetyPointsChange": 10,
        "riskPointsChange": 0
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "consequence_banking_risky",
      "type": "consequence",
      "title": "Banking on Public Wi-Fi",
      "description": "You accessed your bank account on the public network...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_banking_risky",
        "type": "session_compromised",
        "severity": "danger",
        "title": "High-Risk Banking",
        "whatHappened": "You logged into your bank on a public Wi-Fi network without VPN protection. While your bank uses HTTPS to encrypt your session, you've exposed yourself to several sophisticated attack vectors that specifically target financial transactions.",
        "whyRisky": "Banking is the highest-stakes activity you can do online. Here's why public Wi-Fi is dangerous for it: An attacker on the same network could perform a 'man-in-the-middle' attack, positioning themselves between you and the bank. Modern browsers usually catch fake certificates, but misconfigured devices or outdated software might not. Attackers can also use DNS spoofing to redirect you to a fake bank website that looks identical to the real one. Even if the attack fails, your banking session was exposed to a hostile environment - and if your device has any security weaknesses, this is when they get exploited.",
        "saferAlternative": "Never access banking on public Wi-Fi without a VPN. Better yet, use your phone's mobile data for banking - cellular networks are much harder to attack than Wi-Fi. If it's truly urgent, the extra minute to enable a VPN is worth it for your financial security.",
        "technicalExplanation": "HTTPS provides strong protection, and major banks use additional measures like HSTS to prevent downgrade attacks. However, on unverified networks, attackers could attempt DNS spoofing (redirecting you to fake banking sites) or set up convincing phishing portals. Your banking credentials, if captured on a fake site, could allow unauthorized access. VPNs prevent local network attacks by encrypting all traffic before it reaches the local network.",
        "safetyPointsChange": 0,
        "riskPointsChange": 40,
        "cascadingEffects": [
          {
            "order": 1,
            "effect": "Your banking session may be intercepted on the public network",
            "icon": "credential"
          },
          {
            "order": 2,
            "effect": "Attacker captures your login credentials or session token",
            "icon": "account"
          },
          {
            "order": 3,
            "effect": "Unauthorized transfers drain your account before you notice",
            "icon": "money"
          }
        ]
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "consequence_banking_vpn",
      "type": "consequence",
      "title": "Protected Banking",
      "description": "You accessed your bank with VPN protection...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_banking_vpn",
        "type": "vpn_protected",
        "severity": "success",
        "title": "Smart Security Choice",
        "whatHappened": "You used a VPN before accessing your bank account. This adds a crucial layer of encryption that prevents anyone on the coffee shop network from seeing or interfering with your banking session.",
        "whyRisky": "This was an excellent decision. The VPN creates an encrypted tunnel that blocks all local network attacks - no one at the coffee shop can perform man-in-the-middle attacks, DNS spoofing, or traffic analysis. The remaining risk is minimal: you're trusting your VPN provider (choose wisely) and the bank's own security (which is typically very strong).",
        "saferAlternative": "For the most sensitive transactions like large transfers or changing account settings, mobile data is still the gold standard. But VPN on public Wi-Fi is a solid, practical choice that provides strong protection for everyday banking.",
        "technicalExplanation": "The VPN encrypts all traffic before it leaves your device, making local network attacks impossible. Your banking session travels through the encrypted tunnel to the VPN server, then to your bank. Local attackers see only encrypted gibberish going to a single VPN IP address.",
        "safetyPointsChange": 25,
        "riskPointsChange": 0
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "consequence_banking_smart",
      "type": "consequence",
      "title": "Banking Postponed",
      "description": "You decided to wait on banking...",
      "location": "The Daily Grind Coffee Shop",
      "consequence": {
        "id": "cons_banking_smart",
        "type": "action_postponed",
        "severity": "success",
        "title": "Excellent Judgment",
        "whatHappened": "You recognized that banking is a high-stakes activity and chose to postpone it until you're on a trusted network. This is exactly the right instinct for protecting your finances.",
        "whyRisky": "There is no risk because you didn't expose your banking credentials to a public network at all. This 'security by avoidance' approach is often the wisest choice for critical operations. The minor inconvenience of waiting is nothing compared to the potential consequences of a compromised bank account.",
        "saferAlternative": "You made the best possible decision. Banking should be reserved for networks you control - your home Wi-Fi, your workplace network, or your phone's mobile data connection. The $200 bill can wait until you're in a secure environment.",
        "technicalExplanation": "By postponing high-sensitivity tasks, you eliminate the attack surface entirely. Attackers can't steal what you never exposed. This approach recognizes that convenience is not worth the risk when it comes to your financial security.",
        "safetyPointsChange": 30,
        "riskPointsChange": 0
      },
      "nextSceneId": "debrief_coffee_shop"
    },
    {
      "id": "debrief_coffee_shop",
      "type": "debrief",
      "title": "Debrief",
      "titleKey": "debrief.title",
      "description": "Debrief",
      "descriptionKey": "debrief.description",
      "location": "The Daily Grind Coffee Shop",
      "sections": [
        {
          "titleKey": "debrief.sections.didWell.title",
          "bodyKey": "debrief.coffee_shop_beginner.didWell.body"
        },
        {
          "titleKey": "debrief.sections.doDifferently.title",
          "bodyKey": "debrief.coffee_shop_beginner.doDifferently.body"
        },
        {
          "titleKey": "debrief.sections.habit.title",
          "bodyKey": "debrief.coffee_shop_beginner.habit.body"
        }
      ],
      "nextSceneId": "completion"
    },
    {
      "id": "completion",
      "type": "completion",
      "title": "Scenario Complete",
      "description": "You've completed the Coffee Shop Challenge! Let's review how you did.",
      "location": "The Daily Grind Coffee Shop"
    }
  ]
}
